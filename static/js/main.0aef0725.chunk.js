(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{14:function(t,e,o){},15:function(t,e,o){},16:function(t,e,o){"use strict";o.r(e);var n=o(0),a=o.n(n),l=o(8),r=o.n(l),i=(o(14),o(15),o(6)),s=o(1),c=o(2),u=o(4),d=o(3),p=o(5),m=function(t){function e(){var t,o;Object(s.a)(this,e);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(o=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(a)))).state={title:o.props.title,tempTitle:o.props.title},o.checkBoxClicked=function(t){t.target.closest("li").classList.toggle("completed"),o.props.onCheckBox(o.props.id)},o.onDestroyClick=function(){o.props.onDestroy(o.props.id)},o.onEdit=function(t){"LABEL"===t.target.tagName&&(t.currentTarget.classList.add("editing"),t.currentTarget.querySelector(".edit").focus())},o.onEditInput=function(t){o.setState({tempTitle:t.target.value})},o.onBlurInput=function(t){""!==o.state.tempTitle.trim()?(o.props.onEdit(o.props.id,o.state.tempTitle.trim()),t.target.closest("li").classList.remove("editing")):(o.setState((function(t){return{tempTitle:t.title}})),t.target.closest("li").classList.remove("editing"))},o.onEscape=function(t){27===t.keyCode&&(o.setState((function(t){return{tempTitle:t.title}})),t.target.closest("li").classList.remove("editing"))},o.onKeyInput=function(t){"Enter"===t.key&&(""!==o.state.tempTitle.trim()?(o.props.onEdit(o.props.id,o.state.tempTitle.trim()),t.target.closest("li").classList.remove("editing")):(o.setState((function(t){return{tempTitle:t.title}})),t.target.closest("li").classList.remove("editing")))},o}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props,e=t.title,o=t.completed;return a.a.createElement("li",{onDoubleClick:this.onEdit,className:o?"completed":""},a.a.createElement("div",{className:"view"},a.a.createElement("input",{type:"checkbox",className:"toggle",checked:o,onClick:this.checkBoxClicked}),a.a.createElement("label",null,e),a.a.createElement("button",{type:"button",className:"destroy",onClick:this.onDestroyClick})),a.a.createElement("input",{type:"text",className:"edit",value:this.state.tempTitle,onChange:this.onEditInput,onBlur:this.onBlurInput,onKeyPress:this.onKeyInput,onFocus:this.onFocusInput,onKeyDown:this.onEscape}))}}]),e}(n.Component),f=function(t){var e=t.todos,o=t.onCheckBox,n=t.onDestroy,l=t.onEdit;return a.a.createElement("ul",{className:"todo-list"},e.map((function(t){return a.a.createElement(m,Object.assign({onEdit:l,onDestroy:n,onCheckBox:o,key:t.id},t))})))},g=function(t){function e(){var t,o;Object(s.a)(this,e);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(o=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(a)))).state={tempTitle:""},o.changeHandler=function(t){o.setState({tempTitle:t.target.value})},o.onBlurInput=function(t){var e=t.target,n=o.state.tempTitle.trim();""!==n?(o.setState({tempTitle:""}),e.value="",o.props.onNewTodo(n)):o.setState({tempTitle:""})},o.onEscape=function(t){var e=t.keyCode,n=t.target;27===e&&(o.setState({tempTitle:""}),n.value="")},o.onKeyInput=function(t){var e=t.key,n=t.target;if("Enter"===e){var a=o.state.tempTitle.trim();""!==a?(o.setState({tempTitle:""}),n.value="",o.props.onNewTodo(a)):o.setState({tempTitle:""})}},o}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return a.a.createElement("header",{className:"header"},a.a.createElement("h1",null,"todos"),a.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",onChange:this.changeHandler,onBlur:this.onBlurInput,onKeyPress:this.onKeyInput,onKeyDown:this.onEscape}))}}]),e}(a.a.Component),h=function(t){function e(){var t,o;Object(s.a)(this,e);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(o=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(a)))).linkList=[{id:1,title:"All"},{id:2,title:"Active"},{id:3,title:"Complited"}],o.state={currentItem:1},o.clickHandler=function(t,e){t.preventDefault(),o.setState({currentItem:e}),o.props.onFilters(e)},o}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return a.a.createElement("ul",{className:"filters"},this.linkList.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement("a",{href:"#/".concat(e.title),className:t.state.currentItem===e.id?"selected":"",onClick:function(o){return t.clickHandler(o,e.id)}},e.title))})))}}]),e}(n.Component),S=function(t){function e(){var t,o;Object(s.a)(this,e);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(o=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(a)))).state={filtersFlag:1,count:localStorage.todos?JSON.parse(localStorage.getItem("todos")).length:0,visibleTodos:localStorage.todos?JSON.parse(localStorage.getItem("todos")):[]},o.filter=function(t){var e=JSON.parse(localStorage.getItem("todos"));return 1===t?Object(i.a)(e):2===t?Object(i.a)(e.filter((function(t){return!t.completed}))):3===t?Object(i.a)(e.filter((function(t){return t.completed}))):void 0},o.filtersHandler=function(t){o.setState({filtersFlag:t,visibleTodos:o.filter(t)})},o.checkBoxHandler=function(t){var e=JSON.parse(localStorage.getItem("todos")),n=e.find((function(e){return e.id===t}));n.completed=!n.completed,localStorage.setItem("todos",JSON.stringify(e)),o.setState((function(t){return{visibleTodos:o.filter(t.filtersFlag)}}))},o.onClearButton=function(){var t=JSON.parse(localStorage.getItem("todos"));t=t.filter((function(t){return!t.completed})),localStorage.setItem("todos",JSON.stringify(t)),o.setState((function(e){return{count:t.length,visibleTodos:o.filter(e.filtersFlag)}}))},o.destroyHandler=function(t){var e=JSON.parse(localStorage.getItem("todos"));e=e.filter((function(e){return e.id!==t})),localStorage.setItem("todos",JSON.stringify(e)),o.setState((function(t){return{count:e.length,visibleTodos:o.filter(t.filtersFlag)}}))},o.editHandler=function(t,e){var n=JSON.parse(localStorage.getItem("todos"));n.find((function(e){return e.id===t})).title=e,localStorage.setItem("todos",JSON.stringify(n)),o.setState((function(t){return{visibleTodos:o.filter(t.filtersFlag)}}))},o.newTodoHandler=function(t){var e=JSON.parse(localStorage.getItem("todos")),n=+localStorage.getItem("todoLastId")+1;e.push({id:n,title:t,completed:!1}),localStorage.setItem("todos",JSON.stringify(e)),localStorage.setItem("todoLastId","".concat(n)),o.setState((function(t){return{count:e.length,visibleTodos:o.filter(t.filtersFlag)}}))},o}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return localStorage.todos||(localStorage.setItem("todos","[]"),localStorage.setItem("todoLastId","0")),a.a.createElement("section",{className:"todoapp"},a.a.createElement(g,{onNewTodo:this.newTodoHandler}),a.a.createElement("section",{className:"main"},a.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all"}),a.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),a.a.createElement(f,{onEdit:this.editHandler,onDestroy:this.destroyHandler,onCheckBox:this.checkBoxHandler,todos:this.state.visibleTodos})),a.a.createElement("footer",{className:"footer"},a.a.createElement("span",{className:"todo-count"},"".concat(this.state.count," items left")),a.a.createElement(h,{todos:this.todos,onFilters:this.filtersHandler}),a.a.createElement("button",{type:"button",className:"clear-completed",onClick:this.onClearButton},"Clear completed")))}}]),e}(n.Component);r.a.render(a.a.createElement(S,null),document.getElementById("root"))},9:function(t,e,o){t.exports=o(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.0aef0725.chunk.js.map