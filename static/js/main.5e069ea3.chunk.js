(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{11:function(t,e,o){t.exports=o(18)},16:function(t,e,o){},17:function(t,e,o){},18:function(t,e,o){"use strict";o.r(e);var n=o(0),a=o.n(n),r=o(9),i=o.n(r),l=(o(16),o(17),o(7)),s=o(1),c=o(2),d=o(3),u=o(5),p=o(4),m=o(6),f=o(10),h=function(t){function e(){var t,o;Object(c.a)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(u.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(a)))).state={title:o.props.title,tempTitle:o.props.title,isEdit:!1,targetInput:void 0},o.checkBoxClicked=function(){var t=o.props;(0,t.onCheckBox)(t.id)},o.onDestroyClick=function(){var t=o.props;(0,t.onDestroy)(t.id)},o.onEdit=function(){o.setState({isEdit:!0})},o.onEditInput=function(t){o.setState({tempTitle:t.target.value})},o.onBlurInput=function(){var t,e=o.state,n=e.tempTitle,a=e.title,r=o.props,i=r.onEdit,l=r.id;""!==n.trim()?(i(l,n.trim()),t=n):t=a,o.setState({tempTitle:t,isEdit:!1})},o.onEscape=function(t){27===t.keyCode&&o.setState((function(t){return{tempTitle:t.title,isEdit:!1}}))},o.onKeyInput=function(t){if("Enter"===t.key){var e,n=o.state,a=n.tempTitle,r=n.title,i=o.props,l=i.onEdit,s=i.id;""!==a.trim()?(l(s,a.trim()),e=a):e=r,o.setState({tempTitle:e,isEdit:!1})}},o.refHandler=function(t){o.setState({targetInput:t})},o}return Object(m.a)(e,t),Object(d.a)(e,[{key:"componentDidUpdate",value:function(){var t=this.state,e=t.isEdit,o=t.targetInput;e&&o&&o.focus()}},{key:"render",value:function(){var t=this.props,e=t.title,o=t.completed;return a.a.createElement("li",{className:f({completed:o,editing:this.state.isEdit})},a.a.createElement("div",{className:"view"},a.a.createElement("input",{type:"checkbox",className:"toggle",checked:o,onClick:this.checkBoxClicked}),a.a.createElement("label",{onDoubleClick:this.onEdit},e),a.a.createElement("button",{type:"button",className:"destroy",onClick:this.onDestroyClick})),a.a.createElement("input",{type:"text",className:"edit",value:this.state.tempTitle,onChange:this.onEditInput,onBlur:this.onBlurInput,onKeyPress:this.onKeyInput,onKeyDown:this.onEscape,ref:this.refHandler}))}}]),e}(n.Component),b=function(t){var e=t.todos,o=t.onCheckBox,n=t.onDestroy,r=t.onEdit;return a.a.createElement("ul",{className:"todo-list"},e.map((function(t){return a.a.createElement(h,Object.assign({onEdit:r,onDestroy:n,onCheckBox:o,key:t.id},t))})))},v=function(t){function e(){var t,o;Object(c.a)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(u.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(a)))).state={tempTitle:""},o.changeHandler=function(t){o.setState({tempTitle:t.target.value})},o.onBlurInput=function(){var t=o.state.tempTitle.trim();""!==t&&o.props.onNewTodo(t),o.setState({tempTitle:""})},o.onEscape=function(t){27===t.keyCode&&o.setState({tempTitle:""})},o.onKeyInput=function(t){var e=t.key,n=t.target;if("Enter"===e){var a=o.state.tempTitle.trim();""!==a?(o.setState({tempTitle:""}),n.value="",o.props.onNewTodo(a)):o.setState({tempTitle:""})}},o}return Object(m.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return a.a.createElement("header",{className:"header"},a.a.createElement("h1",null,"todos"),a.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",onChange:this.changeHandler,onBlur:this.onBlurInput,onKeyPress:this.onKeyInput,onKeyDown:this.onEscape,value:this.state.tempTitle}))}}]),e}(a.a.Component),g=function(t){function e(){var t,o;Object(c.a)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(u.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(a)))).state={currentItem:1},o.linkList=[{id:1,title:"All"},{id:2,title:"Active"},{id:3,title:"Completed"}],o.clickHandler=function(t,e){t.preventDefault(),o.setState({currentItem:e}),o.props.onFilters(e)},o}return Object(m.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this;return a.a.createElement("ul",{className:"filters"},this.linkList.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement("a",{href:"#/".concat(e.title),className:t.state.currentItem===e.id?"selected":"",onClick:function(o){return t.clickHandler(o,e.id)}},e.title))})))}}]),e}(n.Component),T=function(t){function e(){var t,o;Object(c.a)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(u.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(a)))).state={filtersFlag:1,count:0,rawTodos:[],visibleTodos:[],todoLastId:0},o.checkBoxHandler=function(t){var e=Object(s.a)(o.state.rawTodos),n=e.find((function(e){return e.id===t}));n.completed=!n.completed,o.setState((function(t){return{rawTodos:Object(s.a)(e),visibleTodos:o.filter(t.filtersFlag,e),count:e.reduce((function(t,e){return e.completed?t:t+1}),0)}}))},o.onClearButton=function(){var t=o.state.rawTodos.filter((function(t){return!t.completed}));o.setState((function(e){return{rawTodos:Object(s.a)(t),visibleTodos:o.filter(e.filtersFlag,t),count:t.length}}))},o.destroyHandler=function(t){var e=o.state.rawTodos.filter((function(e){return e.id!==t}));o.setState((function(t){return{rawTodos:Object(s.a)(e),count:e.reduce((function(t,e){return e.completed?t:t+1}),0),visibleTodos:o.filter(t.filtersFlag,e)}}))},o.editHandler=function(t,e){var n=Object(s.a)(o.state.rawTodos);n.find((function(e){return e.id===t})).title=e,o.setState((function(t){return{rawTodos:Object(s.a)(n),visibleTodos:o.filter(t.filtersFlag,n)}}))},o.newTodoHandler=function(t){var e=Object(s.a)(o.state.rawTodos),n=o.state.todoLastId+1;e.push({id:n,title:t,completed:!1}),o.setState((function(t){return{count:e.length,rawTodos:Object(s.a)(e),visibleTodos:o.filter(t.filtersFlag,e),todoLastId:n}}))},o.filter=function(t,e){return 1===t?Object(s.a)(e):2===t?Object(s.a)(e.filter((function(t){return!t.completed}))):3===t?Object(s.a)(e.filter((function(t){return t.completed}))):void 0},o.filtersHandler=function(t){o.setState((function(e){return{filtersFlag:t,visibleTodos:o.filter(t,e.rawTodos)}}))},o.handlerToggleAll=function(t){var e,n;t.target.checked?(e=o.state.rawTodos.map((function(t){return Object(l.a)({},t,{completed:!0})})),n=0):(e=o.state.rawTodos.map((function(t){return Object(l.a)({},t,{completed:!1})})),n=e.length),o.setState((function(t){return{visibleTodos:o.filter(t.filtersFlag,e),count:n,rawTodos:Object(s.a)(e)}}))},o}return Object(m.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){var t=localStorage.todos?JSON.parse(localStorage.getItem("todos")):[],e=localStorage.todoLastId?+localStorage.getItem("todoLastId"):0;this.setState({count:t.reduce((function(t,e){return e.completed?t:t+1}),0),rawTodos:t,visibleTodos:t,todoLastId:e})}},{key:"componentDidUpdate",value:function(){localStorage.setItem("todos",JSON.stringify(this.state.rawTodos)),localStorage.setItem("todoLastId",this.state.todoLastId)}},{key:"render",value:function(){return localStorage.todos||(localStorage.setItem("todos","[]"),localStorage.setItem("todoLastId","0")),a.a.createElement("section",{className:"todoapp"},a.a.createElement(v,{onNewTodo:this.newTodoHandler}),a.a.createElement("section",{className:"main"},a.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onClick:this.handlerToggleAll}),a.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),a.a.createElement(b,{onEdit:this.editHandler,onDestroy:this.destroyHandler,onCheckBox:this.checkBoxHandler,todos:this.state.visibleTodos})),a.a.createElement("footer",{className:"footer"},a.a.createElement("span",{className:"todo-count"},"".concat(this.state.count," items left")),a.a.createElement(g,{todos:this.todos,onFilters:this.filtersHandler}),a.a.createElement("button",{type:"button",className:"clear-completed",onClick:this.onClearButton},"Clear completed")))}}]),e}(n.Component);i.a.render(a.a.createElement(T,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.5e069ea3.chunk.js.map