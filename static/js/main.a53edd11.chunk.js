(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{11:function(t,e,n){t.exports=n(18)},16:function(t,e,n){},17:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),r=n(9),i=n.n(r),l=(n(16),n(17),n(7)),c=n(1),s=n(2),u=n(3),d=n(5),p=n(4),m=n(6),f=n(10),h=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).state={tempTitle:n.props.todo.title,isEdit:!1},n.textInput=a.a.createRef(),n.onEdit=function(){n.setState({isEdit:!0}),n.textInput.current.focus()},n.onEditInput=function(t){n.setState({tempTitle:t.target.value})},n.onBlurInput=function(){var t,e=n.state.tempTitle,o=n.props,a=o.onEdit,r=o.todo,i=r.id,l=r.title;""!==e.trim()?(a(i,e.trim()),t=e):t=l,n.setState({tempTitle:t,isEdit:!1})},n.onEscape=function(t){27===t.keyCode&&n.setState({tempTitle:n.props.todo.title,isEdit:!1})},n.onKeyInput=function(t){if("Enter"===t.key){var e,o=n.state.tempTitle,a=n.props,r=a.onEdit,i=a.todo,l=i.id,c=i.title;""!==o.trim()?(r(l,o.trim()),e=o):e=c,n.setState({tempTitle:e,isEdit:!1})}},n}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentDidUpdate",value:function(){this.state.isEdit&&this.textInput.current.focus()}},{key:"render",value:function(){var t=this.props,e=t.todo,n=e.title,o=e.completed,r=e.id,i=t.onCheckBox,l=t.onDestroy;return a.a.createElement("li",{className:f({completed:o,editing:this.state.isEdit})},a.a.createElement("div",{className:"view"},a.a.createElement("input",{type:"checkbox",className:"toggle",checked:o,onClick:function(){return i(r)}}),a.a.createElement("label",{onDoubleClick:this.onEdit},n),a.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return l(r)}})),a.a.createElement("input",{type:"text",className:"edit",value:this.state.tempTitle,onChange:this.onEditInput,onBlur:this.onBlurInput,onKeyPress:this.onKeyInput,onKeyDown:this.onEscape,ref:this.textInput}))}}]),e}(o.Component),b=function(t){var e=t.todos,n=t.onCheckBox,o=t.onDestroy,r=t.onEdit;return a.a.createElement("ul",{className:"todo-list"},e.map((function(t){return a.a.createElement(h,{onEdit:r,onDestroy:o,onCheckBox:n,key:t.id,todo:t})})))},v=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(d.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(a)))).state={tempTitle:""},n.changeHandler=function(t){n.setState({tempTitle:t.target.value})},n.onBlurInput=function(){var t=n.state.tempTitle.trim();""!==t&&n.props.onNewTodo(t),n.setState({tempTitle:""})},n.onEscape=function(t){27===t.keyCode&&n.setState({tempTitle:""})},n.onKeyInput=function(t){var e=t.key,o=t.target;if("Enter"===e){var a=n.state.tempTitle.trim();""!==a?(n.setState({tempTitle:""}),o.value="",n.props.onNewTodo(a)):n.setState({tempTitle:""})}},n}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return a.a.createElement("header",{className:"header"},a.a.createElement("h1",null,"todos"),a.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",onChange:this.changeHandler,onBlur:this.onBlurInput,onKeyPress:this.onKeyInput,onKeyDown:this.onEscape,value:this.state.tempTitle}))}}]),e}(a.a.Component),T=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(d.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(a)))).state={currentItem:1},n.linkList=[{id:1,title:"All"},{id:2,title:"Active"},{id:3,title:"Completed"}],n.clickHandler=function(t,e){t.preventDefault(),n.setState({currentItem:e}),n.props.onFilters(e)},n}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this;return a.a.createElement("ul",{className:"filters"},this.linkList.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement("a",{href:"#/".concat(e.title),className:t.state.currentItem===e.id?"selected":"",onClick:function(n){return t.clickHandler(n,e.id)}},e.title))})))}}]),e}(o.Component),E=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(d.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(a)))).state={filtersFlag:1,count:0,rawTodos:[],visibleTodos:[],todoLastId:0},n.checkBoxHandler=function(t){var e=Object(c.a)(n.state.rawTodos),o=e.find((function(e){return e.id===t}));o.completed=!o.completed,n.setState((function(t){return{rawTodos:Object(c.a)(e),visibleTodos:n.filter(t.filtersFlag,e),count:e.reduce((function(t,e){return e.completed?t:t+1}),0)}}))},n.onClearButton=function(){var t=n.state.rawTodos.filter((function(t){return!t.completed}));n.setState((function(e){return{rawTodos:Object(c.a)(t),visibleTodos:n.filter(e.filtersFlag,t),count:t.length}}))},n.destroyHandler=function(t){var e=n.state.rawTodos.filter((function(e){return e.id!==t}));n.setState((function(t){return{rawTodos:Object(c.a)(e),count:e.reduce((function(t,e){return e.completed?t:t+1}),0),visibleTodos:n.filter(t.filtersFlag,e)}}))},n.editHandler=function(t,e){var o=Object(c.a)(n.state.rawTodos);o.find((function(e){return e.id===t})).title=e,n.setState((function(t){return{rawTodos:Object(c.a)(o),visibleTodos:n.filter(t.filtersFlag,o)}}))},n.newTodoHandler=function(t){var e=Object(c.a)(n.state.rawTodos),o=n.state.todoLastId+1;e.push({id:o,title:t,completed:!1}),n.setState((function(t){return{count:e.length,rawTodos:Object(c.a)(e),visibleTodos:n.filter(t.filtersFlag,e),todoLastId:o}}))},n.filter=function(t,e){return 1===t?Object(c.a)(e):2===t?e.filter((function(t){return!t.completed})):3===t?e.filter((function(t){return t.completed})):void 0},n.filtersHandler=function(t){n.setState((function(e){return{filtersFlag:t,visibleTodos:n.filter(t,e.rawTodos)}}))},n.handlerToggleAll=function(t){var e,o,a=n.state.rawTodos;t.target.checked?(e=a.map((function(t){return Object(l.a)({},t,{completed:!0})})),o=0):(e=a.map((function(t){return Object(l.a)({},t,{completed:!1})})),o=e.length),n.setState((function(t){return{visibleTodos:n.filter(t.filtersFlag,e),count:o,rawTodos:Object(c.a)(e)}}))},n}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=localStorage.todos?JSON.parse(localStorage.getItem("todos")):[],e=localStorage.todoLastId?+localStorage.getItem("todoLastId"):0;this.setState({count:t.reduce((function(t,e){return e.completed?t:t+1}),0),rawTodos:t,visibleTodos:t,todoLastId:e})}},{key:"componentDidUpdate",value:function(){localStorage.setItem("todos",JSON.stringify(this.state.rawTodos)),localStorage.setItem("todoLastId",this.state.todoLastId)}},{key:"render",value:function(){return a.a.createElement("section",{className:"todoapp"},a.a.createElement(v,{onNewTodo:this.newTodoHandler}),a.a.createElement("section",{className:"main"},a.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onClick:this.handlerToggleAll}),a.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),a.a.createElement(b,{onEdit:this.editHandler,onDestroy:this.destroyHandler,onCheckBox:this.checkBoxHandler,todos:this.state.visibleTodos})),a.a.createElement("footer",{className:"footer"},a.a.createElement("span",{className:"todo-count"},"".concat(this.state.count," items left")),a.a.createElement(T,{todos:this.todos,onFilters:this.filtersHandler}),a.a.createElement("button",{type:"button",className:"clear-completed",onClick:this.onClearButton},"Clear completed")))}}]),e}(o.Component);i.a.render(a.a.createElement(E,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.a53edd11.chunk.js.map